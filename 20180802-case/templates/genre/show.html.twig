{% extends 'base.html.twig' %}

{% block title %}Genre{% endblock %}

{% block body %}
    <h1>{{ genre.name }}</h1>

    {#<table class="table">#}
        {#<tbody>#}
            {#<tr>#}
                {#<th>Id</th>#}
                {#<td>{{ genre.id }}</td>#}
            {#</tr>#}
            {#<tr>#}
                {#<th>Name</th>#}
                {#<td>{{ genre.name }}</td>#}
            {#</tr>#}

            {#{% if books is defined %}#}
                {#<tr>#}
                    {#<th>Books</th>#}
                    {#<td>#}
                        {#<div class="list-group">#}
                        {#{% for book in books|slice(0, 10)%}#}
                            {#<a href="/book/show/{{ book.id }}" class="list-group-item list-group-item-action">{{ book.title }}</a>#}
                        {#{% endfor %}#}
                        {#</div>#}
                    {#</td>#}
                {#</tr>#}
            {#{% endif %}#}
        {#</tbody>#}
    {#</table>#}
    {% if books is iterable %}

        <div class="list-group">
            <h5 class="list-group-item"> Last books </h5>
            {% for book in books|slice(0, 10)%}
                <a href="/book/show/{{ book.id }}" class="list-group-item list-group-item-action">{{ book.title }}</a>
            {% endfor %}
        </div>
    {% else %}
        No books in this genre, <a href="{{ path('book_new') }}"> add book </a>
    {% endif %}


    <hr/>

    <a class="btn btn-secondary" role="button" href="{{ path('genres') }}">back to list</a>

    <a class="btn btn-primary" role="button" href="{{ path('genre_edit', {'id': genre.id}) }}">edit</a>

    {{ include('genre/_delete_form.html.twig') }}

    <pre>

        {#{{ dump(books) }}#}

    </pre>

{% endblock %}
